# ====================================================================
# Gemini Deep Search - システム設定ファイル
# ====================================================================
# このファイルでは、システム全体のパラメータを一元管理します。
# 環境変数（APIキー等）は別途 .env または GitHub Secrets で管理してください。
# ====================================================================

# --------------------------------------------------------------------
# LLMモデル設定
# --------------------------------------------------------------------
llm:
  # Phase 1: 検索・データ収集で使用するモデル
  searcher:
    model: "gemini-2.5-flash"
    temperature: 0

  # Phase 2: 分析レポート生成で使用するモデル
  analyzer:
    model: "gemini-2.5-flash"
    temperature: 0.1

  # メール要約生成で使用するモデル
  email:
    model: "gemini-2.5-flash"
    temperature: 0.3

# --------------------------------------------------------------------
# Tavily検索設定
# --------------------------------------------------------------------
tavily:
  max_results: 5              # 1回の検索で取得する最大記事数
  search_depth: "advanced"    # 検索深度: "basic" | "advanced"
  include_raw_content: false  # 生コンテンツを含めるか（trueにするとトークン消費が増える）

# --------------------------------------------------------------------
# 検索パラメータ
# --------------------------------------------------------------------
search:
  days_back: 7                # 過去何日分の記事を検索するか
  min_articles: 3             # 最小記事数
  max_articles: 5             # 最大記事数

  # 検索キーワード（Phase 1で使用）
  # 製造業特化のスキルマネジメント・タレントマネジメントに最適化
  keywords:
    # 基本キーワード（製造業特化）
    - "skills matrix software manufacturing"
    - "competency management platform frontline workforce"
    - "skills gap analysis manufacturing dashboard"

    # プラットフォーム・ツール関連
    - "AG5 Kahuna skills management manufacturing"
    - "Skills Base skills intelligence internal mobility"
    - "iMocha skills taxonomy internal talent marketplace"

    # Industry 4.0 / スマートマニュファクチャリング
    - "workforce reskilling Industry 4.0 manufacturing"
    - "skills-based staffing industrial operations smart manufacturing"
    - "operational skill management scheduling optimization"

    # 内部タレントマーケットプレイス
    - "internal talent marketplace adoption 2025 enterprise"
    - "skills-based internal mobility gig marketplace"

    # コンピテンシー管理・安全性
    - "competency tracking plant operators manufacturing"
    - "skills management workforce upskilling safety compliance"

    # スキルタクソノミー・ギャップ分析
    - "dynamic skills taxonomy workforce reskilling"
    - "skill gap frontline technicians manufacturing"

# --------------------------------------------------------------------
# エージェント設定
# --------------------------------------------------------------------
agent:
  max_retries: 3              # API呼び出しの最大再試行回数
  initial_delay: 60           # 初回リトライまでの待機時間（秒）
  recursion_limit: 30         # ReActエージェントの再帰制限

# --------------------------------------------------------------------
# データ保存設定
# --------------------------------------------------------------------
data:
  research_data_path: "reports/research_data.json"        # Phase 1で生成されるJSON
  weekly_data_dir: "reports/weekly_data"                  # 週次データ保存先
  trends_dir: "reports/trends"                            # トレンド集計データ保存先
  reports_dir: "reports"                                  # レポート保存先

# --------------------------------------------------------------------
# メール送信設定
# --------------------------------------------------------------------
email:
  smtp:
    server: "smtp.gmail.com"  # SMTPサーバー
    port: 465                 # SMTPポート（SSL）

  subject_template: "{date} 週次レポート｜海外スキルベース調査レポート"

  # GitHubリポジトリURL（レポートへのリンク生成に使用）
  github_repo_url: "https://github.com/ykato27/gemini-deep-search"

# --------------------------------------------------------------------
# レポート生成設定
# --------------------------------------------------------------------
report:
  title_template: "週次レポート: スキルマネジメント・タレントマネジメント動向 ({year}年版)"
  author: "人材戦略コンサルタント"

  # レポートファイル名の形式
  filename_template: "週次レポート_{year}_{date}.md"

  # レポート形式（経営層向け戦略レポート）
  # - 簡潔性: A4換算2ページ（2,000〜2,500文字）
  # - 文体: 「である」調
  # - 内容: 「何が起きているか」「何を意味するか」に集中

# --------------------------------------------------------------------
# フィルタリング設定
# --------------------------------------------------------------------
filtering:
  # 日付が不明な記事を保持するか
  keep_articles_with_unknown_date: true

  # 最小信頼度スコア（これ未満の記事を除外）
  min_confidence_score: 0.0

# --------------------------------------------------------------------
# デバッグ設定
# --------------------------------------------------------------------
debug:
  # デバッグモード（詳細なログを出力）
  enabled: false

  # 出力プレビューの文字数
  preview_length: 500
